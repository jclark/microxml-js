<!DOCTYPE html>
<html>
<head>
    <title>MicroXML Parser Test</title>
    <script src="microxml.js"></script>
    <script>
        function parseText() {
            var textarea = document.forms.parse.elements.text;
            try {
                document.getElementById("result").textContent = "Correct"
                document.getElementById("json").textContent = JSON.stringify(MicroXML.parse(textarea.value));
            }
            catch (exc) {
                if (exc.name === "ParseError") {
                    document.getElementById("result").textContent = "Incorrect (" + exc.errorType + ")";
                    document.getElementById("json").textContent = "";
                    textarea.setSelectionRange(exc.position, exc.position);
                    textarea.focus();
                }
            }
        }
   </script>
</head>
<body>
<h1>MicroXML Parser Test</h1>
<form name="parse" >
<textarea name="text" rows="10" cols="80">&lt;doc>&lt;/doc></textarea>
<input type="button" value="Parse" onclick="parseText();">
</form>
<p id="result"></p>
<b>JSON data model</b>
<pre id="json">
</pre>
</body>
</html>

